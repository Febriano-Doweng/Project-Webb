<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Jam & Cuaca WIT – Mimika</title>
 <link rel="icon" type="image/png" href="Bumble_Bee.png" />
<style>
:root {
    --bg:#0e1321;
    --card:rgba(255,255,255,0.08);
    --text:#fff;
}
.light {
    --bg:#f4f4f4;
    --card:#ffffff;
    --text:#111;
}
body {
    margin:0;
    padding:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:var(--bg);
    color:var(--text);
    font-family:'Segoe UI',sans-serif;
    transition:0.4s;
}
.container {
    text-align:center;
    background:var(--card);
    padding:30px 40px;
    border-radius:20px;
    box-shadow:0 8px 30px rgba(0,0,0,0.4);
}
.time {
    font-size:3.5rem;
    font-weight:bold;
}
.date {
    margin-top:10px;
    font-size:1.2rem;
    opacity:0.9;
}
.weather {
    margin-top:20px;
    font-size:1.1rem;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:10px;
}
.weather img {
    width:50px;
    height:50px;
}
button {
    margin-top:15px;
    padding:8px 16px;
    border:none;
    border-radius:20px;
    cursor:pointer;
    font-size:1rem;
}
@media (max-width:480px) {
    .time { font-size:2.8rem; }
    .weather img { width:40px; height:40px; }
}
</style>
</head>
<body>

<div class="container">
    <div class="time" id="time">00:00:00</div>
    <div class="date" id="date">Memuat...</div>

    <div class="weather" id="weather">
        <img src="" alt="ikon cuaca" id="weather-icon">
        <div id="weather-text">Memuat cuaca...</div>
    </div>

    <button onclick="toggleMode()">Dark / Light Mode</button>
</div>

<script>
// === KONFIGURASI ===
const API_KEY = "d2ea725267f747ce7fd88697d12857c1"; // ➤ Ganti dengan OpenWeatherMap API key
const LAT = -4.2567;   // Koordinat Mimika
const LON = 136.8990;  // Koordinat Mimika

// === JAM & TANGGAL ===
function updateClock() {
    const now = new Date();
    const timeFormatter = new Intl.DateTimeFormat("id-ID", {
        timeZone:"Asia/Jayapura",
        hour:"2-digit",minute:"2-digit",second:"2-digit",
        hour12:false
    });
    const dateFormatter = new Intl.DateTimeFormat("id-ID", {
        timeZone:"Asia/Jayapura",
        weekday:"long",day:"numeric",month:"long",year:"numeric"
    });
    document.getElementById("time").textContent = timeFormatter.format(now);
    document.getElementById("date").textContent = dateFormatter.format(now)+" WIT";
}

// === WEATHER API ===
async function updateWeather() {
    try {
        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${LAT}&lon=${LON}&units=metric&lang=id&appid=${API_KEY}`;
        const response = await fetch(url);
        const data = await response.json();

        const temp = Math.round(data.main.temp);
        const desc = data.weather[0].description;
        const icon = data.weather[0].icon;
        document.getElementById("weather-icon").src = `https://openweathermap.org/img/wn/${icon}@2x.png`;
        document.getElementById("weather-text").textContent = `${temp}°C • ${desc}`;
    } catch (err) {
        document.getElementById("weather-text").textContent = "Tidak bisa memuat cuaca";
    }
}

// === DARK/LIGHT MODE ===
function toggleMode() {
    document.body.classList.toggle("light");
    localStorage.setItem("mode",document.body.classList.contains("light")?"light":"dark");
}
if(localStorage.getItem("mode")==="light") {
    document.body.classList.add("light");
}

// === AUTO UPDATE =====
updateClock();
updateWeather();
setInterval(updateClock,1000);
// Cuaca refresh 10 menit sekali
setInterval(updateWeather, 600000);
</script>

</body>
</html>